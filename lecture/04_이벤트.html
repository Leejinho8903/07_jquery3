<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>04_이벤트</title>
    <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
</head>
<body>
    <h1>이벤트</h1>
    <h3>이벤트 연결 종류</h3>
    <p>
        요소 객체에 이벤트 발생 시 연결 될 이벤트 핸들러를 지정하는 메소드 <br>
        $('selector').on('이벤트명', '이벤트 핸들러')
        : 현재 존재하는 문서 객체에만 이벤트를 연결한다. <br>
        $('selector').off('이벤트명', [, '이벤트 핸들러'])
        : on으로 연결 된 이벤트를 제거한다.
    </p>

    <h1 id="test1">마우스를 올려보세요</h1>

    <script>
        // on 메소드의 기본적인 사용법
        $("#test1").on('click', function(){
            console.log(event.target);
            console.log($(this).text());
        });

        // 여러 개의 이벤트를 객체로 전달하여 등록할 수도 있다.
        $("#test1").on({ mouseenter : function(){
            $(this).css("background", "yellowgreen").text("마우스 올라감");
        }, mouseleave : function(){
            $(this).css("background", "yellow").text("마우스 내려감");
        }, click : function(){
            $(this).off("mouseenter").off("mouseleave")
            .css("background", "orangered").text("이벤트 제거됨");
        }});
    </script>

    <h3>$('selector').on(event, selector, handler)</h3>
    <p>
        선택자를 기준으로 매개변수로 전달 된 selector에 지정한 이벤트 발생 시
        해당 핸들러를 "동적으로" 적용시켜 이벤트 처리를 할 수 잇다.
    </p>
    <div id="wrap">
        <h2>클릭 시 h2 요소 추가</h2>
    </div>

    <script>
        function add(){
            $("#wrap").append('<h2>클릭으로 인해 추가 됨</h2>');
        }
        // 해당 코드가 수행 될 떄 문서에 존재하는 h2 요소에게만 이벤트가 연결 됨
        // $("h2").on('click', add)
        // 문서 내에 동적으로 추가 된 h2 요소에게도 이벤트가 연결 됨
        $(document).on('click', 'h2', add);
    </script>

    <h3>one 메소드</h3>
    <p>
        이벤트를 단 한 번만 동작 시키고자 할 때 사용한다.
    </p>
    <h1 id="test2">클릭하세요</h1>
    <script>
        $("#test2").one('click', function(){
            alert('처음이자 마지막 이벤트 발생!')
        });
    </script>
    
</body>
</html>